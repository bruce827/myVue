<center>

# 通用测试用例
</center>

## 一、列表查询业务场景
### 通用简单业务场景
#### 1.场景描述
适用于少量搜索条件的业务查询（一行），除正常的增删改查外，还有状态改变等单条数据操作。
#### 2.基本需求
* 当搜索条件只有一个是文本框时，回车触发搜索。
* 文本框搜索需要前后去除空格。
* 下拉框要有清空按钮。
* 查询条件中如果有涉及到排序规则的条件（如id升序降序等），需要刷新列表并重置分页。
* 重置按钮需要从新刷新列表。
* 列表有分页。
* 默认按照数据更新时间倒叙排序。
* 列表有加载提示。
* 列表选中行进行高亮处理。
* 列表整体为空时（正常情况没有数据，不包括报错），需要有空数据提示（图片或文字）。
* 添加、导出按钮在布局上处于table的上方。
* 统一操作提示文案：成功、失败。
* table整体要充满父级容器，如果列太少的情况下要自适应宽度。
* table的数据改变即时生效，不需要重新刷新整个页面。
* 模态窗中的table需要添加分页。
* 涉及到后台交互的按钮加loading处理。
* 可使用tab键切换输入框选中顺序。
* 导入功能设计逻辑（见图片）。
* table中有单位时（如“元”等），需要统一写在标题列中。
* 增加防抖处理。
#### 3.可扩展需求
<!-- * 下拉框选项要根据当前列表数据进行过滤，不展示没有数据的选项。 -->
* 如果列表有类似“编号”等序列字段可增加排序规则。
* table中数据某一个字段没有值时，需要显示’-‘(涉及到金额计算的业务场景除外).
* 列表中涉及到钱的字段右对齐，其余居中。
* 列表的列比较多时，需要有动态列。
* 筛选查询条件输入框默认长度。
* 日期格式要进行过滤，不论后台是否过滤。
  <!-- * 数据中涉及到长短不一的内容时采用左对齐，其余采用居中对齐. -->
#### 4.兴奋需求
* 表格的分页要根据页面加载时的浏览器尺寸自动选择每页展示的数据量（5，10，20）。
* 需要在前台进行码值对应的数据应该从后台获取码表。
* 不同的状态在前台要有不同的样式加以区分。
### 复杂操作场景
#### 1.场景描述
适用于表格列数较多且全部需要显示的业务场景，查询条件可收起。单条数据有详情，操作栏在左侧且不会超过两个按钮。此种场景不会再模态窗中查看或编辑详情（字段较多）。
#### 案例一：保守基础版
##### 1.基本需求
* 符合*简单业务场景*的基本需求。
* 条件筛选要有“收起/展开”按钮，交互逻辑如下：  
    1. “展开”模式高度不限，“收起”模式有且只有一行，不允许空行。
    2. 有重置和查询按钮，切换模式后，无论是显示的查询条件还是隐藏的查询条件都不进行清空处理，且列表不进行刷新。
    3. 简单模式下“查询”和“重置”按钮不单独占一行显示。
* 列表固定列数大于等于3，且前两列一定是操作和序号。
* 操作列固定在右侧
* 导出的数据应为，筛选条件的数据，而不是所有。
##### 2.可扩展需求
* 符合*简单业务场景*的可扩展需求。
* 右侧可以有固定列。
* 列表区域不允许出现纵向滚动。
##### 3.兴奋需求
* 符合简单业务场景的兴奋需求。
#### 案例二：青春活力版
##### 1.基本需求
* 符合简单业务场景的基本需求。
* 搜索条件有且仅有文本框，且回车进行业务指定字段的模糊搜索，搜索指定字段可以为多个。
* 选项筛选条件（包括日期选择）全部在header中完成，确认后直接触发搜索。
* 仅支持单列的排序操作，且清空列表默认排序。
* 筛选条件可见，可删、可清空，条件太多可折行显示。
* 筛选条件可保存，每个用户只能看到自己保存的条件，保存条件上限为5个，超出后循环顶替。
* 列表固定列数大于等于3，且左侧两列一定是操作和序号。
##### 2.可扩展需求
* 符合简单业务场景的可扩展需求。
* 右侧可以有固定列。
* 导出为全部数据导出，与筛选的查询结果无关（导入属于表单操作）。
* 操作列最多有三个按钮，分别为“详情”、“编辑”和“删除”。
##### 3.兴奋需求
* 符合简单业务场景的兴奋需求。
* 在当前页面会话中如果已经导出了一次，则按钮变为强调色。
* 在当前会话中，点击过的详情按钮变为强调色。
* 如果之前保存过筛选条件，则按钮显示为强调色。
* 出现条件、清空条件、保存条件时要有动效提示。
## 二、表单填报场景
### 重点通用组件交互
1. excel上传组件  

交互过程如下图：

<img src="/Users/maylis/Desktop/github上的项目/myVue/vueDemo/src/views/ceshi/img/excle导入流程.png" alt="excle导入流程" style="zoom:25;" />

* 《错误报告》格式为excel通用格式，文档中包含但不限于“行号”和“错误原因”字段，“如果错误原因”为多个，要有换行且添加序号。
* 在《导入模板》中通过颜色区分必填与非必填。
* 涉及到时间选择的单元格要有控件：控件根据业务需求分为日期、时间、和日期时间三种控件形式。
* 科学计数法的单元格格式不做校验，只要数据正确即可通过。
* 保存路径支持linux和windows，保存路径统一存在库里，以便后期查看。
* 校验错误的语料要有意义，如果可以，在提示中给出正确提示。
* 对于“完全相同”的数据导入，引入*订单*概念。
> 
		订单概念：比如一个员工这时候需要导入的是多条工作经历数据，如果这个员工以前导入过数据，那么新的一次导入就会覆盖此员工之前的数据（同一员工视为相同数据）。
2. 级联选择
有清空按钮，且清空后之前选择的数据不回显（需要改element组件）。

### 简单表单
#### 1. 场景描述
适用于在模态窗中展示的表单，有必要的校验，字段较少。
> 基本校验提示：
>
> 非空校验：“请补充该项内容”
>
> 最小长度：“输入内容至少{length}位”
>
> 最大长度：“请输入{length}位字符”
>
> 整数校验：“请输入整数”
>
> 数字校验：“请输入数字”
>
> 数值校验：“输入数值应小于/不能大于/不能小于/应大于{number}”
>
> 手机号：“请输入正确手机号”
>
> 邮箱：“请输入正确邮箱”
>
> 验证码：“请输入正确验证码”

#### 2. 基本需求
* 遵循element UI 布局和通用校验(内置14种类型)。
* 有“提交”和“取消”按钮。
* 保存结果先关闭再提示。
<!-- * 必填字段的下拉框没有清空选项。 -->
* 非必填的下拉框可以是空状态,默认请选择。
* 所有控件失焦触发校验（控件的初始状态不算失焦）。
#### 3. 可扩展需求
* form的尺寸为“mini”。
* 符合表单的业务逻辑（输入项文档）。
#### 4. 兴奋需求
无
### 整页表单
#### 1. 场景描述
适用于表单内容较多，必须使用跳转页面来实现的情况。此类情况会结合折叠面板、tab或步骤条使用。
> 整页表单基本都是与业务强关联，所以这里建议每个页面单独出设计，这里以“员工基本信息为例”。
#### 2.基本需求
* 满足简单表单的基本需求。
* 固定位置提交栏（顶或底），且可以添加其他按钮。
* 独立区域可收起，区域中每个表单组件单列显示且有编辑权限的显示编辑按钮。
* 每个组件
## 三、一些小组件
### 1. 防止页面高频率反复刷新
在较短时间内，如果发现页面刷新次数大于三次，则强迫用户退出登录并返回到登录页。
### 2.吸顶/吸底组件
整页表单出现滚动时采用吸顶组件提交，组件中可自定义业务按钮。
### 3. 返回顶部
交互逻辑如element原生组件，用于表单（其它场景没想好呢）等场景。
### 4. 可拖拽模态窗
交互逻辑待定，应用场景待定（暂缓）。